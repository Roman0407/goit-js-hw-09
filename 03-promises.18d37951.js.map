{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAOC,SAASC,cAAc,QAE9BC,EAAS,CACbC,MAAO,EACPC,KAAM,EACNC,OAAQ,EACRC,QAAS,GAuBX,SAASC,EAAcC,EAAUC,GAC/B,MAAMC,EAAgBC,KAAKC,SAAW,GAEtB,IAAIC,SAAQ,CAACC,EAASC,KACpC,MAAMC,EAAS,CACbC,SAAAT,EACAL,MAAAM,GAGEC,EACFI,EAAQE,GAERD,EAAOC,EAAO,IAKfE,MAAK,EAACD,SAAEA,EAAQd,MAAEA,MACjBgB,YACE,IAAMtB,EAAAuB,OAAOC,QAAQ,uBAAqBJ,QAAiBd,QAAYA,EACrE,IAGLmB,OAAM,EAACL,SAAEA,EAAQd,MAAEA,MAClBgB,YACE,IAAMtB,EAAAuB,OAAOG,QAAQ,sBAAoBN,QAAed,QAAYA,EACpE,G,CA9CRJ,EAAKyB,iBACH,SACAC,GAAUvB,EAAOuB,EAAMC,OAAOC,OAASF,EAAMC,OAAOE,QAGtD7B,EAAKyB,iBAAiB,UAEtB,SAAoBC,GAClBA,EAAMI,iBACN,IAAIC,EAAW5B,EAAOC,MAEtB,IAAK,IAAI4B,EAAI,EAAGA,EAAI7B,EAAOG,OAAQ0B,IACjCC,QAAQC,IAAIH,GACZE,QAAQC,IAAI/B,EAAOC,OACnBI,EAAcL,EAAOI,QAASwB,GAC9B5B,EAAOI,SAAW,EAClBwB,GAAY5B,EAAOE,I","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst form = document.querySelector('form');\n\nconst inputs = {\n  delay: 0,\n  step: 0,\n  amount: 0,\n  positon: 0,\n};\n\nform.addEventListener(\n  'input',\n  event => (inputs[event.target.name] = +event.target.value)\n);\n\nform.addEventListener('submit', startTimer);\n\nfunction startTimer(event) {\n  event.preventDefault();\n  let newDelay = inputs.delay;\n\n  for (let i = 0; i < inputs.amount; i++) {\n    console.log(newDelay);\n    console.log(inputs.delay);\n    createPromise(inputs.positon, newDelay);\n    inputs.positon += 1;\n    newDelay += inputs.step;\n  }\n}\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n\n  const promise = new Promise((resolve, reject) => {\n    const result = {\n      position,\n      delay,\n    };\n\n    if (shouldResolve) {\n      resolve(result);\n    } else {\n      reject(result);\n    }\n  });\n\n  promise\n    .then(({ position, delay }) => {\n      setTimeout(\n        () => Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`),\n        delay\n      );\n    })\n    .catch(({ position, delay }) => {\n      setTimeout(\n        () => Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`),\n        delay\n      );\n    });\n}"],"names":["$iQIUW","parcelRequire","$47d4ff9957288465$var$form","document","querySelector","$47d4ff9957288465$var$inputs","delay","step","amount","positon","$47d4ff9957288465$var$createPromise","position1","delay1","shouldResolve","Math","random","Promise","resolve","reject","result","position","then","setTimeout","Notify","success","catch","failure","addEventListener","event","target","name","value","preventDefault","newDelay","i","console","log"],"version":3,"file":"03-promises.18d37951.js.map"}